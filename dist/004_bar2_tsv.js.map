{"version":3,"sources":["../004_bar2_tsv.js"],"names":["width","barHeight","height","x","d3","scaleLinear","range","chart","select","attr","tsv","d","value","then","console","log","data","domain","max","length","bar","selectAll","enter","append","i","text","name"],"mappings":";;AAAA;;;;;;AAQA,IAAMA,QAAQ,GAAd;AACA,IAAMC,YAAY,EAAlB;AACA,IAAMC,SAAS,GAAf;;AAEA,IAAMC,IAAIC,GAAGC,WAAH,GACLC,KADK,CACC,CAAC,CAAD,EAAGN,KAAH,CADD,CAAV;;AAGA;AACA,IAAMO,QAAQH,GAAGI,MAAH,CAAU,QAAV,EACTC,IADS,CACJ,OADI,EACKT,KADL,CAAd;AAEI;;;AAGJ;;;AAGAI,GAAGM,GAAH,CAAO,2BAAP,EAAoC,aAAK;AACrCC,MAAEC,KAAF,GAAU,CAACD,EAAEC,KAAb;AACA,WAAOD,CAAP;AACH,CAHD,EAGGE,IAHH,CAGS,gBAAQ;AACbC,YAAQC,GAAR,CAAYC,IAAZ;;AAEAb,MAAEc,MAAF,CAAS,CAAC,CAAD,EAAIb,GAAGc,GAAH,CAAQF,IAAR,EAAc;AAAA,eAAKL,EAAEC,KAAP;AAAA,KAAd,CAAJ,CAAT;AACAL,UAAME,IAAN,CAAW,QAAX,EAAqBR,YAAYe,KAAKG,MAAtC;;AAEA,QAAMC,MAAMb,MAAMc,SAAN,CAAgB,GAAhB,EACPL,IADO,CACFA,IADE,EAEPM,KAFO,GAECC,MAFD,CAEQ,GAFR,EAGPd,IAHO,CAGF,WAHE,EAGW,UAACE,CAAD,EAAGa,CAAH;AAAA,eAAS,iBAAiBA,IAAIvB,SAArB,GAAiC,GAA1C;AAAA,KAHX,CAAZ;;AAKAmB,QAAIG,MAAJ,CAAW,MAAX,EACKd,IADL,CACU,OADV,EACmB;AAAA,eAAKN,EAAEQ,EAAEC,KAAJ,CAAL;AAAA,KADnB,EAEKH,IAFL,CAEU,QAFV,EAEoBR,YAAU,CAF9B;;AAIAmB,QAAIG,MAAJ,CAAW,MAAX,EACKd,IADL,CACU,GADV,EACgB;AAAA,eAAKN,EAAEQ,EAAEC,KAAJ,IAAa,CAAlB;AAAA,KADhB,EAEKH,IAFL,CAEU,GAFV,EAEeR,YAAY,CAF3B,EAGKQ,IAHL,CAGU,IAHV,EAGgB,OAHhB,EAIKgB,IAJL,CAIW;AAAA,eAAKd,EAAEC,KAAP;AAAA,KAJX;;AAMAQ,QAAIG,MAAJ,CAAW,MAAX,EACKd,IADL,CACU,GADV,EACe,KADf,EAEKA,IAFL,CAEU,GAFV,EAEeR,YAAY,CAF3B,EAGKQ,IAHL,CAGU,IAHV,EAGgB,OAHhB,EAIKgB,IAJL,CAIW;AAAA,eAAKd,EAAEe,IAAP;AAAA,KAJX;AAOH,CA/BD","file":"004_bar2_tsv.js","sourcesContent":["/**\n * Reference: https://bost.ocks.org/mike/bar/2/\n * Note #1: tsv use Promise to load data\n *\n */\n\n\n\nconst width = 800;\nconst barHeight = 30;\nconst height = 600;\n\nconst x = d3.scaleLinear()\n    .range([0,width]);\n\n/* The wrapper: chart */\nconst chart = d3.select(\".chart\")\n    .attr(\"width\", width);\n    // .attr(\"height\", height);\n\n\n/**\n * Note #1\n */\nd3.tsv(\"tsv/data_004_bar2_tsv.tsv\", d => {\n    d.value = +d.value;\n    return d;\n}).then( data => {\n    console.log(data);\n\n    x.domain([0, d3.max( data, d => d.value )]);\n    chart.attr(\"height\", barHeight * data.length);\n\n    const bar = chart.selectAll(\"g\")\n        .data(data)\n        .enter().append(\"g\")\n        .attr(\"transform\", (d,i) => \"translate(0,\" + i * barHeight + \")\" );\n\n    bar.append(\"rect\")\n        .attr(\"width\", d => x(d.value) )\n        .attr(\"height\", barHeight-1);\n\n    bar.append(\"text\")\n        .attr(\"x\",  d => x(d.value) - 3 )\n        .attr(\"y\", barHeight / 2)\n        .attr(\"dy\", \".35em\")\n        .text( d => d.value );\n\n    bar.append(\"text\")\n        .attr(\"x\", \"6em\" )\n        .attr(\"y\", barHeight / 2)\n        .attr(\"dy\", \".35em\")\n        .text( d => d.name  );\n\n\n});\n"]}