{"version":3,"sources":["../008_linechart.js"],"names":["svgWidth","svgHeight","svg","d3","select","attr","margin","top","right","bottom","left","width","height","g","append","parseTime","timeParse","x","scaleTime","rangeRound","y","scaleLinear","line","d","date","close","tsv","then","domain","extent","data","call","axisBottom","remove","axisLeft","ticks","text","datum"],"mappings":"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","file":"008_linechart.js","sourcesContent":["/**\n *\n * Reference: https://bl.ocks.org/mbostock/3883245\n */\n\nconst svgWidth = 960;\nconst svgHeight = 500;\n\nconst svg = d3.select(\"svg\")\n    .attr(\"width\", svgWidth)\n    .attr(\"height\", svgHeight);\n\nconst margin = {top: 20, right: 20, bottom: 30, left: 50};\nconst width = svgWidth - margin.left - margin.right;\nconst height = svgHeight - margin.top - margin.bottom;\nconst g = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nconst parseTime = d3.timeParse(\"%d-%b-%y\");\nconst x = d3.scaleTime()\n        .rangeRound([0,width]);\n\nconst y = d3.scaleLinear()\n        .rangeRound([height, 0]);\n\nconst line = d3.line()\n        .x( d => x(d.date))\n        .y( d => y(d.close));\n\n\nd3.tsv(\"tsv/data_008_linechart.tsv\", d => {\n    d.date = parseTime(d.date);\n    d.close = +d.close;\n    return d;\n}).then( data => {\n    //console.log(data);\n\n    // returns the minimum and maximum value in the given array\n    x.domain(d3.extent(data, d => d.date));\n    y.domain(d3.extent(data, d => d.close));\n\n    \n    // x-axis\n    //let xAxis = d3.axisBottom(x).ticks(15);\n\n    g.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))  // use .tick(value) to control the ticks..\n        .select(\".domain\")  // remove the lines...\n        .remove();\n\n    // y-axis\n    g.append(\"g\")\n        .call(d3.axisLeft(y).ticks(5)) // controls the number of ticks\n        .append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", 6)\n        .attr(\"dy\", \"0.71em\")\n        .attr(\"text-anchor\", \"end\")\n        .text(\"Price ($)\");\n\n    // line data values\n\n    g.append(\"path\")\n        .datum(data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line); // define d3 line function and use it here..\n\n\n\n\n\n\n});"]}