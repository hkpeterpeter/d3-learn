{"version":3,"sources":["../005_bar3_ex1.js"],"names":["width","height","chart","d3","select","attr","y","scaleLinear","range","tsv","d","value","then","domain","max","data","console","log","barWidth","length","bar","selectAll","enter","append","i","text"],"mappings":";;AAAA;;;;AAIA,IAAMA,QAAQ,GAAd;AACA,IAAMC,SAAS,GAAf;;AAGA,IAAMC,QAAQC,GAAGC,MAAH,CAAU,QAAV,EACDC,IADC,CACI,OADJ,EACaL,KADb,EAEDK,IAFC,CAEI,QAFJ,EAEcJ,MAFd,CAAd;;AAIA,IAAMK,IAAIH,GAAGI,WAAH,GACLC,KADK,CACC,CAACP,MAAD,EAAS,CAAT,CADD,CAAV;;AAGAE,GAAGM,GAAH,CAAO,2BAAP,EAAoC,aAAK;;AAErCC,MAAEC,KAAF,GAAU,CAACD,EAAEC,KAAb,CAFqC,CAEjB;AACpB,WAAOD,CAAP;AAEH,CALD,EAKGE,IALH,CAKS,gBAAQ;;AAEb;AACA;AACAN,MAAEO,MAAF,CAAS,CAAC,CAAD,EAAIV,GAAGW,GAAH,CAAOC,IAAP,EAAa;AAAA,eAAKL,EAAEC,KAAP;AAAA,KAAb,CAAJ,CAAT;;AAEAK,YAAQC,GAAR,CAAYF,IAAZ;AACA,QAAMG,WAAWlB,QAAQe,KAAKI,MAA9B;AACA,QAAMC,MAAMlB,MAAMmB,SAAN,CAAgB,GAAhB,EACPN,IADO,CACFA,IADE,EAEPO,KAFO,GAGPC,MAHO,CAGA,GAHA,CAAZ;AAII;;AAEJH,QAAIG,MAAJ,CAAW,MAAX,EACKlB,IADL,CACU,GADV,EACe,UAACK,CAAD,EAAGc,CAAH;AAAA,eAASA,IAAEN,QAAX;AAAA,KADf,EAEKb,IAFL,CAEU,GAFV,EAEe;AAAA,eAAMC,EAAEI,EAAEC,KAAJ,CAAN;AAAA,KAFf,EAGKN,IAHL,CAGU,QAHV,EAGoB;AAAA,eAAKJ,SAASK,EAAEI,EAAEC,KAAJ,CAAd;AAAA,KAHpB,EAIKN,IAJL,CAIU,OAJV,EAImBa,WAAS,CAJ5B;;AAOAE,QAAIG,MAAJ,CAAW,MAAX,EACKlB,IADL,CACU,GADV,EACe,UAACK,CAAD,EAAGc,CAAH;AAAA,eAASA,IAAEN,QAAF,GAAaA,WAAS,CAA/B;AAAA,KADf,EAEKb,IAFL,CAEU,GAFV,EAEe;AAAA,eAAKC,EAAEI,EAAEC,KAAJ,IAAa,CAAlB;AAAA,KAFf,EAGKN,IAHL,CAGU,IAHV,EAGgB,OAHhB,EAIKoB,IAJL,CAIW;AAAA,eAAKf,EAAEC,KAAP;AAAA,KAJX;AAMH,CAhCD","file":"005_bar3_ex1.js","sourcesContent":["/**\n * Reference: https://bost.ocks.org/mike/bar/3/\n */\n\nconst width = 960;\nconst height = 500;\n\n\nconst chart = d3.select(\".chart\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\nconst y = d3.scaleLinear()\n    .range([height, 0]);\n\nd3.tsv(\"tsv/data_005_bar3_ex1.tsv\", d => {\n\n    d.value = +d.value; // text => value\n    return d;\n\n}).then( data => {\n\n    // set the data domain\n    //  [0 ... max data value]\n    y.domain([0, d3.max(data, d => d.value)]);\n\n    console.log(data);\n    const barWidth = width / data.length;\n    const bar = chart.selectAll(\"g\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        //.attr(\"transform\", (d,i)=> \"translate(\" + i * barWidth + \",0)\");\n\n    bar.append(\"rect\")\n        .attr(\"x\", (d,i) => i*barWidth)\n        .attr(\"y\", d =>  y(d.value))\n        .attr(\"height\", d => height - y(d.value))\n        .attr(\"width\", barWidth-1);\n\n\n    bar.append(\"text\")\n        .attr(\"x\", (d,i) => i*barWidth + barWidth/2)\n        .attr(\"y\", d => y(d.value) + 3)\n        .attr(\"dy\", \".75em\")\n        .text( d => d.value );\n\n});\n"]}