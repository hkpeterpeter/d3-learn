{"version":3,"sources":["../005_bar3_ex1.js"],"names":["width","height","chart","d3","select","attr","y","scaleLinear","range","tsv","type","then","domain","max","data","d","value","console","log","barWidth","length","bar","selectAll","enter","append","i","text"],"mappings":";;AAAA;;;;AAIA,IAAMA,QAAQ,GAAd;AACA,IAAMC,SAAS,GAAf;;AAGA,IAAMC,QAAQC,GAAGC,MAAH,CAAU,QAAV,EACDC,IADC,CACI,OADJ,EACaL,KADb,EAEDK,IAFC,CAEI,QAFJ,EAEcJ,MAFd,CAAd;;AAIA,IAAMK,IAAIH,GAAGI,WAAH,GACLC,KADK,CACC,CAACP,MAAD,EAAS,CAAT,CADD,CAAV;;AAGAE,GAAGM,GAAH,CAAO,2BAAP,EAAoCC,IAApC,EAA0CC,IAA1C,CAAgD,gBAAQ;;AAEpD;AACA;AACAL,MAAEM,MAAF,CAAS,CAAC,CAAD,EAAIT,GAAGU,GAAH,CAAOC,IAAP,EAAa;AAAA,eAAKC,EAAEC,KAAP;AAAA,KAAb,CAAJ,CAAT;;AAEAC,YAAQC,GAAR,CAAYJ,IAAZ;AACA,QAAMK,WAAWnB,QAAQc,KAAKM,MAA9B;AACA,QAAMC,MAAMnB,MAAMoB,SAAN,CAAgB,GAAhB,EACPR,IADO,CACFA,IADE,EAEPS,KAFO,GAGPC,MAHO,CAGA,GAHA,CAAZ;AAII;;AAEJH,QAAIG,MAAJ,CAAW,MAAX,EACKnB,IADL,CACU,GADV,EACe,UAACU,CAAD,EAAGU,CAAH;AAAA,eAASA,IAAEN,QAAX;AAAA,KADf,EAEKd,IAFL,CAEU,GAFV,EAEe;AAAA,eAAMC,EAAES,EAAEC,KAAJ,CAAN;AAAA,KAFf,EAGKX,IAHL,CAGU,QAHV,EAGoB;AAAA,eAAKJ,SAASK,EAAES,EAAEC,KAAJ,CAAd;AAAA,KAHpB,EAIKX,IAJL,CAIU,OAJV,EAImBc,WAAS,CAJ5B;;AAOAE,QAAIG,MAAJ,CAAW,MAAX,EACKnB,IADL,CACU,GADV,EACe,UAACU,CAAD,EAAGU,CAAH;AAAA,eAASA,IAAEN,QAAF,GAAaA,WAAS,CAA/B;AAAA,KADf,EAEKd,IAFL,CAEU,GAFV,EAEe;AAAA,eAAKC,EAAES,EAAEC,KAAJ,IAAa,CAAlB;AAAA,KAFf,EAGKX,IAHL,CAGU,IAHV,EAGgB,OAHhB,EAIKqB,IAJL,CAIW;AAAA,eAAKX,EAAEC,KAAP;AAAA,KAJX;AAMH,CA3BD;;AA6BA,SAASN,IAAT,CAAcK,CAAd,EAAiB;AACbA,MAAEC,KAAF,GAAU,CAACD,EAAEC,KAAb,CADa,CACO;AACpB,WAAOD,CAAP;AACH","file":"005_bar3_ex1.js","sourcesContent":["/**\n * Reference: https://bost.ocks.org/mike/bar/3/\n */\n\nconst width = 960;\nconst height = 500;\n\n\nconst chart = d3.select(\".chart\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\nconst y = d3.scaleLinear()\n    .range([height, 0]);\n\nd3.tsv(\"tsv/data_005_bar3_ex1.tsv\", type).then( data => {\n\n    // set the data domain\n    //  [0 ... max data value]\n    y.domain([0, d3.max(data, d => d.value)]);\n\n    console.log(data);\n    const barWidth = width / data.length;\n    const bar = chart.selectAll(\"g\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        //.attr(\"transform\", (d,i)=> \"translate(\" + i * barWidth + \",0)\");\n\n    bar.append(\"rect\")\n        .attr(\"x\", (d,i) => i*barWidth)\n        .attr(\"y\", d =>  y(d.value))\n        .attr(\"height\", d => height - y(d.value))\n        .attr(\"width\", barWidth-1);\n\n\n    bar.append(\"text\")\n        .attr(\"x\", (d,i) => i*barWidth + barWidth/2)\n        .attr(\"y\", d => y(d.value) + 3)\n        .attr(\"dy\", \".75em\")\n        .text( d => d.value );\n\n});\n\nfunction type(d) {\n    d.value = +d.value; // coerce to number\n    return d;\n}"]}