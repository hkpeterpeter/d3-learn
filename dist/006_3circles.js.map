{"version":3,"sources":["../006_3circles.js"],"names":["document","getElementById","onclick","d3","select","selectAll","style","attr","Math","random","data","sqrt","d","i","enter","append","merge","circle","exit","remove","num","floor","push","transition"],"mappings":"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","file":"006_3circles.js","sourcesContent":["/**\n * Reference: https://bost.ocks.org/mike/circles/\n */\n\n\ndocument.getElementById(\"btnSelectElements\").onclick = e => {\n\n    d3.select(\"svg\").selectAll(\"circle\").style(\"fill\", \"steelblue\")\n        .attr(\"r\", 30);\n}\n\n\ndocument.getElementById(\"btnRandPosition\").onclick = e => {\n\n    d3.select(\"svg\").selectAll(\"circle\").attr(\"cx\", () =>  Math.random() * 720 );\n}\n\ndocument.getElementById(\"btnBindingData\").onclick = e => {\n    // binding data\n    d3.select(\"svg\").selectAll(\"circle\")\n        .data([32, 57,112])\n        .attr(\"r\", d => Math.sqrt(d))\n        .attr(\"cx\", (d,i) => i * 100 + 30);\n}\n\ndocument.getElementById(\"btnEnterElements\").onclick = e => {\n\n\n    d3.select(\"svg\").selectAll(\"circle\")\n        .data([32,57,112,293])\n        .enter().append(\"circle\")\n        .attr(\"cy\", 60)\n        .attr(\"r\", d => Math.sqrt (d))\n        .attr(\"cx\", (d,i) => i * 100 + 30)\n            .merge(circle);   // breaking change since v4.0\n\n}\n\ndocument.getElementById(\"btnRemoveElements\").onclick = e => {\n    d3.select(\"svg\").selectAll(\"circle\")\n        .data([32,57])\n        .exit()\n        .remove();\n}\n\ndocument.getElementById(\"btnGeneralPattern\").onclick = e => {\n\n    // The general pattern:\n    const num = Math.floor(Math.random() * 4) + 2; // 2..5\n    const data = [];\n    for (let i = 0; i<num; i++)\n        data.push(  Math.floor(Math.random() * 100)  );\n\n    // Data binding\n    const circle = d3.select(\"svg\").selectAll(\"circle\")\n        .data(data, d => d );\n\n    // Handling data addition\n    circle.enter().append(\"circle\")\n        .attr(\"cy\", 60)\n        .attr(\"cx\", (d,i) => i * 100 + 30)\n\n        .merge(circle)  // breaking change since v4.0\n        .attr(\"r\", 0)\n        .transition()\n        .attr(\"r\", d => Math.sqrt(d))\n\n    // Handling data removal\n    circle.exit()\n        .transition()\n        .attr(\"r\", 0)\n        .remove();\n\n\n}"]}