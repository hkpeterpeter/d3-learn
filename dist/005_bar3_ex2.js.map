{"version":3,"sources":["../005_bar3_ex2.js"],"names":["svgWidth","svgHeight","svg","d3","select","attr","margin","top","right","bottom","left","width","height","x","scaleBand","rangeRound","padding","y","scaleLinear","range","g","append","tsv","d","frequency","then","domain","data","map","letter","max","call","axisBottom","axisLeft","ticks","bar","selectAll","enter","bandwidth"],"mappings":";;AAAA;;;;AAKA,IAAMA,WAAW,GAAjB;AACA,IAAMC,YAAY,GAAlB;;AAEA,IAAMC,MAAMC,GAAGC,MAAH,CAAU,KAAV,EACHC,IADG,CACE,OADF,EACWL,QADX,EAEHK,IAFG,CAEE,QAFF,EAEYJ,SAFZ,CAAZ;;AAIA,IAAMK,SAAS,EAACC,KAAK,EAAN,EAAUC,OAAO,EAAjB,EAAqBC,QAAQ,EAA7B,EAAiCC,MAAM,EAAvC,EAAf;;AAEA,IAAMC,QAAQX,WAAWM,OAAOI,IAAlB,GAAyBJ,OAAOE,KAA9C;AACA,IAAMI,SAASX,YAAYK,OAAOC,GAAnB,GAAyBD,OAAOG,MAA/C;;AAGA,IAAMI,IAAIV,GAAGW,SAAH,GACLC,UADK,CACM,CAAC,CAAD,EAAIJ,KAAJ,CADN,EAELK,OAFK,CAEG,GAFH,CAAV;;AAIA,IAAMC,IAAId,GAAGe,WAAH,GAAiBC,KAAjB,CAAuB,CAACP,MAAD,EAAS,CAAT,CAAvB,CAAV;;AAEA,IAAMQ,IAAIlB,IAAImB,MAAJ,CAAW,GAAX,EACLhB,IADK,CACA,WADA,EACa,eAAeC,OAAOI,IAAtB,GAA6B,GAA7B,GAAmCJ,OAAOC,GAA1C,GAAgD,GAD7D,CAAV;;AAIAJ,GAAGmB,GAAH,CAAO,2BAAP,EAAoC,aAAK;AACrCC,MAAEC,SAAF,GAAc,CAACD,EAAEC,SAAjB;AACA,WAAOD,CAAP;AAEH,CAJD,EAIGE,IAJH,CAIQ,gBAAQ;;AAEZZ,MAAEa,MAAF,CAAUC,KAAKC,GAAL,CAAU;AAAA,eAAKL,EAAEM,MAAP;AAAA,KAAV,CAAV;AACAZ,MAAES,MAAF,CAAU,CAAC,CAAD,EAAIvB,GAAG2B,GAAH,CAAOH,IAAP,EAAa;AAAA,eAAKJ,EAAEC,SAAP;AAAA,KAAb,CAAJ,CAAV;;AAEA;AACAJ,MAAEC,MAAF,CAAS,GAAT,EACKhB,IADL,CACU,OADV,EACmB,cADnB,EAEKA,IAFL,CAEU,WAFV,EAEuB,iBAAiBO,MAAjB,GAA0B,GAFjD,EAGKmB,IAHL,CAGU5B,GAAG6B,UAAH,CAAcnB,CAAd,CAHV;;AAKA;AACAO,MAAEC,MAAF,CAAS,GAAT,EACKhB,IADL,CACU,OADV,EACmB,cADnB,EAEK0B,IAFL,CAEU5B,GAAG8B,QAAH,CAAYhB,CAAZ,EAAeiB,KAAf,CAAqB,EAArB,EAAwB,GAAxB,CAFV;;AAIA;;AAEA,QAAMC,MAAMf,EAAEgB,SAAF,CAAY,MAAZ,EACPT,IADO,CACFA,IADE,EAEPU,KAFO,GAGPhB,MAHO,CAGA,GAHA,CAAZ;;AAKAc,QAAId,MAAJ,CAAW,MAAX,EACKhB,IADL,CACU,OADV,EACmB,KADnB,EAEKA,IAFL,CAEU,GAFV,EAEe;AAAA,eAAKQ,EAAEU,EAAEM,MAAJ,CAAL;AAAA,KAFf,EAGKxB,IAHL,CAGU,GAHV,EAGe;AAAA,eAAKY,EAAEM,EAAEC,SAAJ,CAAL;AAAA,KAHf,EAIKnB,IAJL,CAIU,OAJV,EAImBQ,EAAEyB,SAAF,EAJnB,EAKKjC,IALL,CAKU,QALV,EAKoB;AAAA,eAAKO,SAASK,EAAEM,EAAEC,SAAJ,CAAd;AAAA,KALpB;AAUH,CArCD","file":"005_bar3_ex2.js","sourcesContent":["/**\n * Reference:  https://bl.ocks.org/mbostock/3885304\n */\n\n\nconst svgWidth = 960;\nconst svgHeight = 500;\n\nconst svg = d3.select(\"svg\")\n        .attr(\"width\", svgWidth)\n        .attr(\"height\", svgHeight);\n\nconst margin = {top: 20, right: 20, bottom: 30, left: 40};\n\nconst width = svgWidth - margin.left - margin.right;\nconst height = svgHeight - margin.top - margin.bottom;\n\n\nconst x = d3.scaleBand()\n    .rangeRound([0, width])\n    .padding(0.1);\n\nconst y = d3.scaleLinear().range([height, 0]);\n\nconst g = svg.append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\nd3.tsv(\"tsv/data_005_bar3_ex2.tsv\", d => {\n    d.frequency = +d.frequency;\n    return d;\n\n}).then(data => {\n\n    x.domain( data.map (d => d.letter ) ) ;\n    y.domain( [0, d3.max(data, d => d.frequency)] );\n\n    // Draw the x-axis using call + d3.axisBottom\n    g.append(\"g\")\n        .attr(\"class\", \"axis axis--x\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x));\n\n    // Draw the y-axis\n    g.append(\"g\")\n        .attr(\"class\", \"axis axis--y\")\n        .call(d3.axisLeft(y).ticks(10,\"%\"));\n\n    // Draw the bars\n\n    const bar = g.selectAll(\".bar\")\n        .data(data)\n        .enter()\n        .append(\"g\");\n\n    bar.append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", d => x(d.letter))\n        .attr(\"y\", d => y(d.frequency))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", d => height - y(d.frequency));\n\n\n\n\n});"]}